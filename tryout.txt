clap threadpool
validate topo
activate must call deactivate